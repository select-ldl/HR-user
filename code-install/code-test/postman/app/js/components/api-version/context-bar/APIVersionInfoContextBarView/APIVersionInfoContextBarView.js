(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"./api-dev/components/api-version/context-bar/APIVersionInfoContextBarView/APIVersionInfoContextBarView.js":function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return f}));var i,a=n("../../node_modules/react/index.js"),o=n.n(a),s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./appsdk/contextbar/ContextBarViewHeader.js"),r=n("./js/utils/ClipboardHelper.js"),l=n("./js/components/base/Buttons.js"),m=n("../../node_modules/@postman/aether/esmLib/index.js"),d=n("./node_modules/moment/moment.js"),p=n.n(d),_=n("./api-dev/components/common/UserProfile/UserProfile.js"),v=n("./api-dev/components/common/APIOffline/APIOffline.js");function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},y.apply(this,arguments)}let f=Object(s.observer)(i=class extends a.Component{constructor(e){super(e),this.state={entityIdCopied:{id:!1,versionId:!1,schemaId:!1}},this.handleCopyToClipboard=this.handleCopyToClipboard.bind(this)}componentWillUnmount(){clearTimeout(this.copiedTimeout)}handleCopyToClipboard(t){e.get(this.state.entityIdCopied,t)||(r.default.copy(e.get(this.props.contextData,t,"")),this.setState((e=>({entityIdCopied:y({},e.entityIdCopied,{[t]:!0})})),(()=>{this.copiedTimeout=setTimeout((()=>this.setState((e=>({entityIdCopied:y({},e.entityIdCopied,{[t]:!1})})))),3e3)})))}render(){const t=e.get(this.props,"contextData",{}),n=p()(t.versionCreatedAt).format("DD MMM YYYY, h:mm A");return o.a.createElement("div",{className:"api-info-context-view-wrapper"},o.a.createElement(c.ContextBarViewHeader,{title:"API 版本详情",onClose:this.props.onClose}),t.isOffline?o.a.createElement(v.default,{origin:"context-bar"}):o.a.createElement("div",{className:"api-info-context-view"},o.a.createElement("div",{className:"api-info-context-view__entity"},o.a.createElement("div",{className:"api-info-context-view__entity__label"},"版本"),o.a.createElement("div",{className:"api-info-context-view__entity__content"},o.a.createElement("div",{className:"api-info-context-view__entity__content__id",title:t.versionName},t.versionName))),o.a.createElement("div",{className:"api-info-context-view__entity"},o.a.createElement("div",{className:"api-info-context-view__entity__label"},"版本 ID"),o.a.createElement("div",{className:"api-info-context-view__entity__content"},o.a.createElement("div",{className:"api-info-context-view__entity__content__id--entity",title:t.versionId},t.versionId),o.a.createElement(l.Button,{tooltip:"拷贝",type:"icon",onClick:()=>this.handleCopyToClipboard("versionId")},e.get(this.state.entityIdCopied,"versionId")?o.a.createElement(m.Icon,{name:"icon-state-success-stroke",className:"pm-icon pm-icon-normal success-tick-icon"}):o.a.createElement(m.Icon,{name:"icon-action-copy-stroke",className:"pm-icon pm-icon-normal"})))),this.props.contextData.schemaId&&o.a.createElement("div",{className:"api-info-context-view__entity"},o.a.createElement("div",{className:"api-info-context-view__entity__label"},"架构 ID"),o.a.createElement("div",{className:"api-info-context-view__entity__content"},o.a.createElement("div",{className:"api-info-context-view__entity__content__id--entity",title:this.props.contextData.schemaId},this.props.contextData.schemaId),o.a.createElement(l.Button,{tooltip:"拷贝",type:"icon",onClick:()=>this.handleCopyToClipboard("schemaId")},e.get(this.state.entityIdCopied,"schemaId")?o.a.createElement(m.Icon,{name:"icon-state-success-stroke",className:"pm-icon pm-icon-normal success-tick-icon"}):o.a.createElement(m.Icon,{name:"icon-action-copy-stroke",className:"pm-icon pm-icon-normal"})))),o.a.createElement("div",{className:"api-info-context-view__entity"},o.a.createElement("div",{className:"api-info-context-view__entity__label"},"创建者"),o.a.createElement("div",{className:"api-info-context-view__entity__content"},e.get(t,"versionCreatedBy.id")?o.a.createElement(_.default,{id:e.get(t,"versionCreatedBy.id"),name:e.get(t,"versionCreatedBy.name"),username:e.get(t,"versionCreatedBy.username"),profileLink:e.get(t,"versionCreatedBy.profileLink"),isAccessible:e.get(t,"versionCreatedBy.isAccessible")}):"无效的用户")),o.a.createElement("div",{className:"api-info-context-view__entity"},o.a.createElement("div",{className:"api-info-context-view__entity__label"},"创建于"),o.a.createElement("div",{className:"api-info-context-view__entity__content"},o.a.createElement("div",{className:"api-info-context-view__entity__content__id",title:n},n)))))}})||i}.call(this,n("./node_modules/lodash/lodash.js"))}}]);