(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{"./monitors/controllers/MonitorSidebarController.js":function(e,t,o){"use strict";o.r(t),function(e){o.d(t,"default",(function(){return c}));var r=o("./monitors/stores/domain/MonitorSidebarStore.js"),i=o("./js/stores/get-store.js"),s=o("./monitors/services/UrlService.js"),n=o("../../node_modules/mobx/lib/mobx.module.js"),a=o("./js/utils/uid-helper.js"),l=o("./monitors/stores/domain/MonitorWorkspaceStore.js");class c{didCreate(){this.store=new r.default,this.currentWorkspaceId=Object(i.getStore)("ActiveWorkspaceStore").id,this.monitorWorkspaceStore=new l.default,this.store.refreshSidebarList(!1),this.activeTabDisposer=Object(n.reaction)((()=>{const t=Object(i.getStore)("EditorStore").find(Object(i.getStore)("ActiveWorkspaceSessionStore").activeEditor),o=Object(a.decomposeUID)(e.last(e.split(e.get(t,"resource",void 0),"/"))).modelId.split("~");return o.length>=1?o.pop():void 0}),(e=>{this.store.setActiveMonitorId(e)}),{fireImmediately:!0})}openMonitorTab(e,t){s.default.gotoMonitorUrl({monitorId:e,monitorName:t})}openCreateMonitorTab(){s.default.openCreateMonitorUrl()}async updateMonitorName({monitorId:e,name:t}){const o={name:t};await this.store.masterMonitorStore.updateMonitorConfiguration({monitorId:e,body:o})}beforeDestroy(){this.activeTabDisposer(),this.store.masterMonitorStore.realtimeManager.unsubscribe({model:"workspace",modelId:this.currentWorkspaceId}),this.store=null}}}.call(this,o("./node_modules/lodash/lodash.js"))},"./monitors/stores/domain/MonitorSidebarStore.js":function(e,t,o){"use strict";o.r(t),function(e){var r,i,s,n,a,l,c=o("../../node_modules/mobx/lib/mobx.module.js"),p=o("./js/stores/get-store.js"),d=o("./monitors/stores/domain/MasterMonitorStore.js");function u(e,t,o,r){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(r):void 0})}function b(e,t,o,r,i){var s={};return Object.keys(r).forEach((function(e){s[e]=r[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=o.slice().reverse().reduce((function(o,r){return r(e,t,o)||o}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}let m=(b((r=class{constructor(){u(this,"loading",i,this),u(this,"loaded",s,this),u(this,"error",n,this),u(this,"activeMonitorId",a,this),u(this,"searchQuery",l,this),this.masterMonitorStore=new d.default}get isOffline(){return this.masterMonitorStore.isOffline}get values(){return this.masterMonitorStore.activeWorkspaceMonitorsMetadata.map((e=>({isHealthy:e._healthy,isPaused:!e.active,id:e.id,name:e.name,collection:e.collection})))}async refreshSidebarList(e=!0){if(Object(p.getStore)("ActiveWorkspaceStore").id){e&&this.setLoading(!0),this.setError(!1);try{await this.masterMonitorStore.loadActiveWorkspaceJobTemplates(),this.masterMonitorStore.setSidebarOpenState(!0),this.setLoading(!1),this.setLoaded(!0)}catch(e){this.setError(!0),this.setLoading(!1)}}}setSearchQuery(e){this.searchQuery=e}setError(e){this.error=e}setLoading(e){this.loading=e}setLoaded(e){this.loaded=e}setActiveMonitorId(e){this.activeMonitorId=e}get filteredItems(){const t=this.searchQuery.trim();if(!t)return this.values;let o=t.toLowerCase();return e.filter(this.values,(t=>e.includes(t.name&&e.toLower(t.name),o)))}}).prototype,"isOffline",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"isOffline"),r.prototype),b(r.prototype,"values",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"values"),r.prototype),i=b(r.prototype,"loading",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=b(r.prototype,"loaded",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n=b(r.prototype,"error",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=b(r.prototype,"activeMonitorId",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),l=b(r.prototype,"searchQuery",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b(r.prototype,"setSearchQuery",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"setSearchQuery"),r.prototype),b(r.prototype,"setError",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"setError"),r.prototype),b(r.prototype,"setLoading",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"setLoading"),r.prototype),b(r.prototype,"setLoaded",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"setLoaded"),r.prototype),b(r.prototype,"setActiveMonitorId",[c.action],Object.getOwnPropertyDescriptor(r.prototype,"setActiveMonitorId"),r.prototype),b(r.prototype,"filteredItems",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"filteredItems"),r.prototype),r);t.default=m}.call(this,o("./node_modules/lodash/lodash.js"))}}]);